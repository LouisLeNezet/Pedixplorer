<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Process the filling colors based on affection — generate_fill • Pedixplorer</title><script src="../lightswitch.js"></script><script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><link href="../deps/KaTex-0.16.10/katex.min.css" rel="stylesheet"><script src="../deps/KaTex-0.16.10/katex.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Process the filling colors based on affection — generate_fill"><meta name="description" content="Perform transformation uppon a column given as the one
containing affection status to compute the filling color."><meta property="og:description" content="Perform transformation uppon a column given as the one
containing affection status to compute the filling color."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Pedixplorer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/Pedixplorer.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/pedigree_alignment.html">Pedigree alignment details</a></li>
    <li><a class="dropdown-item" href="../articles/pedigree_kinship.html">Pedigree kinship() details</a></li>
    <li><a class="dropdown-item" href="../articles/pedigree_object.html">Pedigree object</a></li>
    <li><a class="dropdown-item" href="../articles/pedigree_plot.html">Pedigree plotting details</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://github.com/LouisLeNezet/Pedixplorer/releases/tag/v1.1.5">Latest devel release : Version 1.1.5</a></li>
    <li><a class="external-link dropdown-item" href="https://www.bioconductor.org/packages/release/bioc/html/Pedixplorer.html">Latest main release : Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/LouisLeNezet/Pedixplorer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Process the filling colors based on affection</h1>
      <small class="dont-index">Source: <a href="https://github.com/LouisLeNezet/Pedixplorer/blob/devel/R/generate_colors.R" class="external-link"><code>R/generate_colors.R</code></a></small>
      <div class="d-none name"><code>generate_fill.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Perform transformation uppon a column given as the one
containing affection status to compute the filling color.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">generate_fill</span><span class="op">(</span></span>
<span>  <span class="va">values</span>,</span>
<span>  <span class="va">affected</span>,</span>
<span>  <span class="va">labels</span>,</span>
<span>  is_num <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  keep_full_scale <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  breaks <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  colors_aff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yellow2"</span>, <span class="st">"red"</span><span class="op">)</span>,</span>
<span>  colors_unaff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"white"</span>, <span class="st">"steelblue4"</span><span class="op">)</span>,</span>
<span>  colors_na <span class="op">=</span> <span class="st">"grey"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-values">values<a class="anchor" aria-label="anchor" href="#arg-values"></a></dt>
<dd><p>The vector containing the values to process as affection.</p></dd>


<dt id="arg-affected">affected<a class="anchor" aria-label="anchor" href="#arg-affected"></a></dt>
<dd><p>A logical vector with the affection status of the
individuals
(i.e. <code>FALSE</code> = unaffected,
<code>TRUE</code> = affected,
<code>NA</code> = unknown).</p></dd>


<dt id="arg-labels">labels<a class="anchor" aria-label="anchor" href="#arg-labels"></a></dt>
<dd><p>The vector containing the labels to use for the affection.</p></dd>


<dt id="arg-is-num">is_num<a class="anchor" aria-label="anchor" href="#arg-is-num"></a></dt>
<dd><p>Boolean defining if the values need to be considered as
numeric.</p></dd>


<dt id="arg-keep-full-scale">keep_full_scale<a class="anchor" aria-label="anchor" href="#arg-keep-full-scale"></a></dt>
<dd><p>Boolean defining if the affection values need to
be set as a scale. If <code>values</code> is numeric the filling scale will be
calculated based on the values and the number of breaks given.
If <code>values</code> isn't numeric then each levels will get it's own color</p></dd>


<dt id="arg-breaks">breaks<a class="anchor" aria-label="anchor" href="#arg-breaks"></a></dt>
<dd><p>Number of breaks to use when using full scale with numeric
values. The same number of breaks will be done for values from affected
individuals and unaffected individuals.</p></dd>


<dt id="arg-colors-aff">colors_aff<a class="anchor" aria-label="anchor" href="#arg-colors-aff"></a></dt>
<dd><p>Set of increasing colors to use for the filling of the
affected individuls.</p></dd>


<dt id="arg-colors-unaff">colors_unaff<a class="anchor" aria-label="anchor" href="#arg-colors-unaff"></a></dt>
<dd><p>Set of increasing colors to use for the filling of the
unaffected individuls.</p></dd>


<dt id="arg-colors-na">colors_na<a class="anchor" aria-label="anchor" href="#arg-colors-na"></a></dt>
<dd><p>Color to use for individuals with no informations.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of three elements</p><ul><li><p><code>mods</code> : The processed values column as a numeric factor</p></li>
<li><p><code>affected</code> : A logical vector indicating if the individual
is affected</p></li>
<li><p><code>sc_fill</code> : A dataframe containing the description of each
modality of the scale</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The colors will be set using the
<code><a href="https://rdrr.io/r/grDevices/colorRamp.html" class="external-link">grDevices::colorRampPalette()</a></code> function
with the colors given as parameters.</p>
<p>The colors will be set as follow:</p><ul><li><p>If <strong>keep_full_scale</strong> is <code>FALSE</code>:
Then the affected individuals will get the first color of the
<strong>colors_aff</strong> vector and the unaffected individuals will get the
first color of the <strong>colors_unaff</strong> vector.</p></li>
<li><p>If <strong>keep_full_scale</strong> is <code>TRUE</code>:</p><ul><li><p>If <strong>values</strong> isn't numeric:
Each levels of the affected <strong>values</strong> vector will get
it's own color from the <strong>colors_aff</strong> vector using the
<code><a href="https://rdrr.io/r/grDevices/colorRamp.html" class="external-link">grDevices::colorRampPalette()</a></code> and
the same will be done for the unaffected individuals using the
<strong>colors_unaff</strong>.</p></li>
<li><p>If <strong>values</strong> is numeric:
The mean of the affected individuals will be compared to the mean of the
unaffected individuals and the colors will be set up such as the color
gradient follow the direction of the affection.</p></li>
</ul></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">aff</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_aff_inds.html">generate_aff_inds</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>, threshold <span class="op">=</span> <span class="fl">3</span>, sup_thres_aff <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">generate_fill</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>, <span class="va">aff</span><span class="op">$</span><span class="va">affected</span>, <span class="va">aff</span><span class="op">$</span><span class="va">labels</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mods</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0 0 0 1 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $affected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE FALSE FALSE  TRUE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sc_fill</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mods          labels affected  fill density angle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    0 Healthy &lt;= to 3    FALSE white      NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    1 Affected &gt; to 3     TRUE   red      NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu">generate_fill</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>, <span class="va">aff</span><span class="op">$</span><span class="va">affected</span>, <span class="va">aff</span><span class="op">$</span><span class="va">labels</span>, keep_full_scale <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mods</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2 3 4 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $affected</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE FALSE FALSE  TRUE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sc_fill</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mods                         labels affected    fill density angle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1 Healthy &lt;= to 3 : [0.998,1.67]    FALSE #FFFFFF      NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2  Healthy &lt;= to 3 : (1.67,2.33]    FALSE #9AB1C4      NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    3     Healthy &lt;= to 3 : (2.33,3]    FALSE #36648B      NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4     Affected &gt; to 3 : [4,4.33]     TRUE #EEEE00      NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    6     Affected &gt; to 3 : (4.67,5]     TRUE #FF0000      NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Louis Le Nezet, Jason Sinnwell, Terry Therneau.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

